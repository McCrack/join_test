(function(e){function t(t){for(var a,o,c=t[0],r=t[1],l=t[2],u=0,p=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);m&&m(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},s={app:0},i=[];function c(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-2d0d6331":"83654a8a","chunk-63a2e2f7":"f3a8d13a","chunk-eda72ea8":"40a76fc0"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n={"chunk-63a2e2f7":1,"chunk-eda72ea8":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-2d0d6331":"31d6cfe0","chunk-63a2e2f7":"9c96436c","chunk-eda72ea8":"42fcfd37"}[e]+".css",s=r.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var l=i[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===s))return t()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){l=p[c],u=l.getAttribute("data-href");if(u===a||u===s)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[e],m.parentNode.removeChild(m),n(i)},m.href=s;var d=document.getElementsByTagName("head")[0];d.appendChild(m)})).then((function(){o[e]=0})));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=s[e]=[t,n]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=c(e);var p=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",p.name="ChunkLoadError",p.type=a,p.request=o,n[1](p)}s[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/assets/app/",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var m=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"2fed":function(e,t,n){},4226:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f5df1"),n("8266"),n("d1e78"),n("d940");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i={name:"App"},c=i,r=(n("034f"),n("2877")),l=Object(r["a"])(c,o,s,!1,null,null,null),u=l.exports,p=n("2f62"),m=n("bc3a"),d=n.n(m),f=n("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"substrate"},[n("img",{attrs:{src:"https://images.pexels.com/photos/1181298/pexels-photo-1181298.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",alt:""}}),n("form",{staticClass:"card brown lighten-5",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("div",{staticClass:"card-content"},[e._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"validate",attrs:{id:"email",type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),n("label",{attrs:{for:"email"}},[e._v("Email")])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"validate",attrs:{id:"password",type:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),n("label",{attrs:{for:"password"}},[e._v("Password")])])])]),e._m(1)])])},g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"card-title"},[n("div",[e._v("Login")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-action"},[n("button",{staticClass:"waves-effect waves-light btn",attrs:{type:"submit"}},[e._v("Login")])])}],v={data:function(){return{user:{email:"",password:""}}},methods:{login:function(){this.$store.dispatch("login",this.user)}}},y=v,b=(n("57ed"),Object(r["a"])(y,h,g,!1,null,"4b13b0d4",null)),C=b.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row cyan darken-3 white-text"},[n("div",{staticClass:"bar col s4  flex-between-center"},[n("i",{staticClass:"material-icons"},[e._v("business")]),n("div",{staticClass:"caption flex-grow"},[e._v(e._s(e.DICTIONARY["companies"]))]),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{content:e.DICTIONARY["add_company"],classes:"tooltip pink accent-4 white-text"},expression:"{\n                    content: DICTIONARY['add_company'],\n                    classes: 'tooltip pink accent-4 white-text'\n                   }",modifiers:{bottom:!0}}],staticClass:"cursor-pointer",on:{click:e.addCompany}},[n("i",{staticClass:"material-icons"},[e._v("add")])])]),n("div",{staticClass:"bar col s4"}),n("div",{staticClass:"bar col s4 flex-end-center"},["ua"===e.language?n("span",{staticClass:"language",on:{click:function(t){return e.changeLang("en")}}},[e._v("EN")]):"en"===e.language?n("span",{staticClass:"language",on:{click:function(t){return e.changeLang("ua")}}},[e._v("UA")]):e._e(),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:"Logout",classes:"tooltip pink accent-4 white-text"},expression:"{\n                    content: 'Logout',\n                    classes: 'tooltip pink accent-4 white-text'\n                  }",modifiers:{left:!0}}],staticClass:"cursor-pointer",on:{click:e.logout}},[n("i",{staticClass:"material-icons"},[e._v("exit_to_app")])])])]),n("main",{staticClass:"blue-grey darken-4"},[n("div",{staticClass:"row"},[n("companies-frame",{staticClass:"leftbar col s4"}),n("div",{staticClass:"company col s4"},[e.COMPANY.id||e.newCompany?n("company-frame"):e._e()],1),n("div",{staticClass:"rightbar col s4"},[e.COMPANY.id?n("employee-frame"):e._e()],1)],1)])])},E=[],O=(n("d3b7"),n("5530")),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"collection z-depth-1"},e._l(e.COMPANIES.data,(function(t,a){return n("li",{key:a,staticClass:"collection-item",class:{selected:e.selected===t.id},on:{click:function(n){return e.selectCompany(t.id)}}},[n("img",{staticClass:"circle",attrs:{src:"http://join.local"+t.logo,alt:"",width:"140"}}),n("div",[n("div",{staticClass:"collection-item-title"},[e._v(e._s(t.name))]),n("p",[n("b",[e._v("Email:")]),e._v(" "+e._s(t.email)+" "),n("br"),n("b",[e._v(e._s(e.DICTIONARY["site"]))]),e._v(": "),n("a",{attrs:{target:"_blank",href:t.website},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(t.website))])])])])})),0),n("pagination",{staticClass:"pagination white",attrs:{data:Object.assign({},e.COMPANIES),limit:3,size:"small",align:"center"},on:{"pagination-change-page":e.GET_COMPANIES_LIST}},[n("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[e._v("←")]),n("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[e._v("→")])])],1)},N=[],A={name:"CompaniesFrame",data:function(){return{selected:null}},components:{pagination:function(){return n.e("chunk-2d0d6331").then(n.t.bind(null,"7211",7))}},computed:Object(O["a"])({},Object(p["c"])(["COMPANIES","DICTIONARY"])),methods:Object(O["a"])(Object(O["a"])({},Object(p["b"])(["GET_COMPANIES_LIST","GET_COMPANY"])),{},{selectCompany:function(e){this.selected=e,this.GET_COMPANY(e)}}),mounted:function(){this.GET_COMPANIES_LIST()}},P=A,I=(n("7843"),Object(r["a"])(P,w,N,!1,null,"b06f95ae",null)),T=I.exports,k=n("4d5c"),M=n.n(k),L={name:"Dashboard",data:function(){return{language:"en",newCompany:!1}},components:{CompaniesFrame:T,CompanyFrame:function(){return n.e("chunk-63a2e2f7").then(n.bind(null,"2b8b"))},EmployeeFrame:function(){return n.e("chunk-eda72ea8").then(n.bind(null,"4be6"))}},computed:Object(O["a"])({},Object(p["c"])(["COMPANY","EMPLOYEE","DICTIONARY"])),methods:Object(O["a"])(Object(O["a"])({},Object(p["b"])(["CREATE_COMPANY","LOAD_DICTIONARY"])),{},{logout:function(){this.$store.dispatch("logout")},addCompany:function(){this.newCompany=!0,this.$store.commit("dropCompany")},changeLang:function(e){this.language=e,this.LOAD_DICTIONARY(e)}}),created:function(){d.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("token"),M.a.AutoInit()},mounted:function(){this.LOAD_DICTIONARY(this.language)}},Y=L,j=(n("90b8"),Object(r["a"])(Y,_,E,!1,null,"633284a6",null)),x=j.exports;a["a"].use(f["a"]);var D=[{path:"/",name:"dashboard",component:x},{path:"/login",name:"login",component:C}],S=new f["a"]({mode:"history",base:"/",routes:D}),R=S,$={state:{user:{}},actions:{login:function(e,t){var n=e.state;d.a.post("/auth/login",{email:t.email,password:t.password}).then((function(e){e.data.access_token&&(localStorage.setItem("token",e.data.access_token),n.user=e.data.user,R.push("/"))}))},logout:function(){d.a.post("/auth/logout").then((function(){R.push("login")}))}}},G=(n("b0c0"),n("a9e3"),{state:{pagination:{},companies:[],company:{},companyEmployees:[]},getters:{COMPANY:function(e){return e.company},COMPANIES:function(e){return e.companies},COMPANY_EMPLOYEES:function(e){return e.companyEmployees}},mutations:{stateCompanies:function(e,t){e.companies=t},stateCompany:function(e,t){e.company={id:t.id,name:t.name,email:t.email,logo:t.logo,website:t.website},e.companyEmployees=t.employees},dropCompany:function(e){e.company={}},setId:function(e,t){e.company.id=t}},actions:{GET_COMPANIES_LIST:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;d.a.get("companies?page=".concat(n)).then((function(e){t("stateCompanies",e.data)})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))},GET_COMPANY:function(e,t){var n=e.commit;d.a.get("companies/".concat(t)).then((function(e){n("stateCompany",e.data)})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))},UPDATE_COMPANY:function(e){var t=e.state;d.a.patch("companies/".concat(t.company.id),t.company).then().catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))},CREATE_COMPANY:function(e){var t=e.commit,n=e.state;d.a.post("companies",n.company).then((function(e){t("stateCompany",e.data)})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))},DELETE_COMPANY:function(e){var t=e.commit,n=e.state;d.a.delete("companies/".concat(n.company.id)).then((function(){t("dropCompany")})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))}}}),F={state:{employee:{}},getters:{EMPLOYEE:function(e){return e.employee}},mutations:{stateEmployee:function(e,t){e.employee=t},dropEmployee:function(e){e.employee={}},setId:function(e,t){e.employee.id=t,console.log(e.employee)}},actions:{GET_EMPLOYEE:function(e,t){var n=e.commit;d.a.get("/employees/".concat(t)).then((function(e){n("stateEmployee",e.data)})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))},UPDATE_EMPLOYEE:function(e){var t=e.state;d.a.patch("employees/".concat(t.employee.id),t.employee).then().catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))},CREATE_EMPLOYEE:function(e){var t=e.commit,n=e.state;d.a.post("employees",n.employee).then((function(e){t("stateEmployee",e.data)})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))},DELETE_EMPLOYEE:function(e){var t=e.commit,n=e.state;d.a.delete("employees/".concat(n.employee.id)).then((function(){t("dropEmployee")})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))}}},U={state:{dictionary:{}},getters:{DICTIONARY:function(e){return e.dictionary}},mutations:{stateDictionary:function(e,t){e.dictionary=t}},actions:{LOAD_DICTIONARY:function(e,t){var n=e.commit;d.a.get("/dictionary/".concat(t)).then((function(e){n("stateDictionary",e.data)})).catch((function(e){401===Number(e.response.status)?R.push("login"):console.error(e.data.message)}))}}};a["a"].use(p["a"]);var B=new p["a"].Store({modules:{auth:$,companies:G,employees:F,dictionary:U}}),z=n("a7fe"),q=n.n(z),J=n("9955"),H=n.n(J),K=n("2ef0"),Q=n.n(K),V=n("e37d");a["a"].use(q.a,d.a),d.a.defaults.baseURL="/api",a["a"].use(H.a,{lodash:Q.a}),a["a"].use(V["a"]),a["a"].config.productionTip=!1,new a["a"]({router:R,store:B,render:function(e){return e(u)}}).$mount("#app")},"57ed":function(e,t,n){"use strict";var a=n("b600"),o=n.n(a);o.a},7843:function(e,t,n){"use strict";var a=n("4226"),o=n.n(a);o.a},"85ec":function(e,t,n){},"90b8":function(e,t,n){"use strict";var a=n("2fed"),o=n.n(a);o.a},b600:function(e,t,n){},d940:function(e,t,n){}});
//# sourceMappingURL=app.511ff129.js.map